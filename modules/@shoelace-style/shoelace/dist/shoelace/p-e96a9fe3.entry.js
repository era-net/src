import{r as t,c as o,h as i,H as s,g as r}from"./p-25e7eff4.js";import{P as e}from"./p-5f643704.js";let a=0;const l=class{constructor(i){t(this,i),this.slShow=o(this,"slShow",7),this.slAfterShow=o(this,"slAfterShow",7),this.slHide=o(this,"slHide",7),this.slAfterHide=o(this,"slAfterHide",7),this.componentId="tooltip-"+ ++a,this.content="",this.placement="top",this.disabled=!1,this.distance=10,this.open=!1,this.skidding=0,this.trigger="hover focus"}handleOpenChange(){this.open?this.show():this.hide()}connectedCallback(){this.handleBlur=this.handleBlur.bind(this),this.handleClick=this.handleClick.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleMouseOver=this.handleMouseOver.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handleSlotChange=this.handleSlotChange.bind(this)}componentDidLoad(){const t=this.host.shadowRoot.querySelector("slot");this.target=this.getTarget(),this.popover=new e(this.target,this.tooltip),this.syncOptions(),this.host.addEventListener("blur",this.handleBlur,!0),this.host.addEventListener("click",this.handleClick,!0),this.host.addEventListener("focus",this.handleFocus,!0),t.addEventListener("slotchange",this.handleSlotChange),this.tooltip.hidden=!this.open,this.open&&this.show()}componentDidUpdate(){this.syncOptions()}disconnectedCallback(){this.popover.destroy(),this.host.removeEventListener("blur",this.handleBlur,!0),this.host.removeEventListener("click",this.handleClick,!0),this.host.removeEventListener("focus",this.handleFocus,!0),this.host.shadowRoot.querySelector("slot").removeEventListener("slotchange",this.handleSlotChange)}async show(){if(this.slShow.emit().defaultPrevented)return!1;this.popover.show(),this.open=!0}async hide(){if(this.slHide.emit().defaultPrevented)return!1;this.popover.hide(),this.open=!1}getTarget(){const t=this.host.querySelector("*:not(style)");if(!t)throw new Error("Invalid tooltip target: no child element was found.");return t}handleBlur(){this.hasTrigger("focus")&&this.hide()}handleClick(){this.hasTrigger("click")&&(this.open?this.hide():this.show())}handleFocus(){this.hasTrigger("focus")&&this.show()}handleMouseOver(){this.hasTrigger("hover")&&this.show()}handleMouseOut(){this.hasTrigger("hover")&&this.hide()}handleSlotChange(){const t=this.target,o=this.getTarget();o!==t&&(t.removeAttribute("aria-describedby"),o.setAttribute("aria-describedby",this.componentId))}hasTrigger(t){return this.trigger.split(" ").includes(t)}syncOptions(){this.popover.setOptions({placement:this.placement,skidding:this.skidding,distance:this.distance,onAfterHide:()=>this.slAfterHide.emit(),onAfterShow:()=>this.slAfterShow.emit()})}render(){return i(s,{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},i("slot",{"aria-describedby":this.componentId}),!this.disabled&&i("div",{part:"base",ref:t=>this.tooltip=t,id:this.componentId,class:{tooltip:!0,"tooltip--open":this.open},role:"tooltip","aria-hidden":!this.open},this.content))}get host(){return r(this)}static get watchers(){return{open:["handleOpenChange"]}}};l.style=':host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}:host{--max-width:20rem;--hide-delay:0s;--hide-duration:0.125s;--hide-timing-function:ease;--show-delay:0.125s;--show-duration:0.125s;--show-timing-function:ease;display:contents}.tooltip{position:absolute;max-width:var(--max-width);z-index:var(--sl-z-index-tooltip);border-radius:var(--sl-tooltip-border-radius);background-color:var(--sl-tooltip-background-color);font-family:var(--sl-tooltip-font-family);font-size:var(--sl-tooltip-font-size);font-weight:var(--sl-tooltip-font-weight);line-height:var(--sl-tooltip-line-height);color:var(--sl-tooltip-color);opacity:0;transition:var(--sl-transition-fast) opacity;padding:var(--sl-tooltip-padding);pointer-events:none}.tooltip::after{content:"";position:absolute;width:0;height:0}.tooltip.popover-visible{opacity:1}.tooltip[data-popper-placement^=bottom]::after{bottom:100%;left:calc(50% - var(--sl-tooltip-arrow-size));border-bottom:var(--sl-tooltip-arrow-size) solid var(--sl-tooltip-background-color);border-left:var(--sl-tooltip-arrow-size) solid transparent;border-right:var(--sl-tooltip-arrow-size) solid transparent}.tooltip[data-popper-placement=bottom-start]::after{left:var(--sl-tooltip-arrow-start-end-offset)}.tooltip[data-popper-placement=bottom-end]::after{right:var(--sl-tooltip-arrow-start-end-offset);left:auto}.tooltip[data-popper-placement^=top]::after{top:100%;left:calc(50% - var(--sl-tooltip-arrow-size));border-top:var(--sl-tooltip-arrow-size) solid var(--sl-tooltip-background-color);border-left:var(--sl-tooltip-arrow-size) solid transparent;border-right:var(--sl-tooltip-arrow-size) solid transparent}.tooltip[data-popper-placement=top-start]::after{left:var(--sl-tooltip-arrow-start-end-offset)}.tooltip[data-popper-placement=top-end]::after{right:var(--sl-tooltip-arrow-start-end-offset);left:auto}.tooltip[data-popper-placement^=left]::after{top:calc(50% - var(--sl-tooltip-arrow-size));left:100%;border-left:var(--sl-tooltip-arrow-size) solid var(--sl-tooltip-background-color);border-top:var(--sl-tooltip-arrow-size) solid transparent;border-bottom:var(--sl-tooltip-arrow-size) solid transparent}.tooltip[data-popper-placement=left-start]::after{top:var(--sl-tooltip-arrow-start-end-offset)}.tooltip[data-popper-placement=left-end]::after{top:auto;bottom:var(--sl-tooltip-arrow-start-end-offset)}.tooltip[data-popper-placement^=right]::after{top:calc(50% - var(--sl-tooltip-arrow-size));right:100%;border-right:var(--sl-tooltip-arrow-size) solid var(--sl-tooltip-background-color);border-top:var(--sl-tooltip-arrow-size) solid transparent;border-bottom:var(--sl-tooltip-arrow-size) solid transparent}.tooltip[data-popper-placement=right-start]::after{top:var(--sl-tooltip-arrow-start-end-offset)}.tooltip[data-popper-placement=right-end]::after{top:auto;bottom:var(--sl-tooltip-arrow-start-end-offset)}';export{l as sl_tooltip}