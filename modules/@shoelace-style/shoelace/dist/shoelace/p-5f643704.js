function t(t){var n=t.getBoundingClientRect();return{width:n.width,height:n.height,top:n.top,right:n.right,bottom:n.bottom,left:n.left,x:n.left,y:n.top}}function n(t){if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n?n.defaultView:window}return t}function e(t){var e=n(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function r(t){return t instanceof n(t).Element||t instanceof Element}function i(t){return t instanceof n(t).HTMLElement||t instanceof HTMLElement}function o(t){return t?(t.nodeName||"").toLowerCase():null}function a(t){return(r(t)?t.ownerDocument:t.document).documentElement}function u(n){return t(a(n)).left+e(n).scrollLeft}function f(r,f,c){var s;void 0===c&&(c=!1);var p,d,h=t(r),v={scrollLeft:0,scrollTop:0},l={x:0,y:0};return c||("body"!==o(f)&&(v=(p=f)!==n(p)&&i(p)?{scrollLeft:(d=p).scrollLeft,scrollTop:d.scrollTop}:e(p)),i(f)?((l=t(f)).x+=f.clientLeft,l.y+=f.clientTop):(s=a(f))&&(l.x=u(s))),{x:h.left+v.scrollLeft-l.x,y:h.top+v.scrollTop-l.y,width:h.width,height:h.height}}function c(t){return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}function s(t){return"html"===o(t)?t:t.parentNode||t.host||document.ownerDocument||document.documentElement}function p(t){return n(t).getComputedStyle(t)}function d(t,e){void 0===e&&(e=[]);var r=function t(n){if(["html","body","#document"].indexOf(o(n))>=0)return n.ownerDocument.body;if(i(n)){var e=p(n);if(/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX))return n}return t(s(n))}(t),a="body"===o(r),u=a?n(r):r,f=e.concat(u);return a?f:f.concat(d(s(u)))}function h(t){return["table","td","th"].indexOf(o(t))>=0}function v(t){var n;return!i(t)||!(n=t.offsetParent)||void 0!==window.InstallTrigger&&"fixed"===p(n).position?null:n}function l(t){for(var e=n(t),r=v(t);r&&h(r);)r=v(r);return r&&"body"===o(r)&&"static"===p(r).position?e:r||e}var b="top",m="bottom",y="right",O="left",w=[b,m,y,O],g=w.reduce((function(t,n){return t.concat([n+"-start",n+"-end"])}),[]),x=[].concat(w,["auto"]).reduce((function(t,n){return t.concat([n,n+"-start",n+"-end"])}),[]),j=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function M(t){return t.split("-")[0]}var k={placement:"bottom",modifiers:[],strategy:"absolute"};function q(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return!n.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function E(t){void 0===t&&(t={});var n=t.defaultModifiers,e=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?k:i;return function(t,n,i){void 0===i&&(i=o);var a,u,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},k,{},o),modifiersData:{},elements:{reference:t,popper:n},attributes:{},styles:{}},p=[],h=!1,v={state:s,setOptions:function(i){b(),s.options=Object.assign({},o,{},s.options,{},i),s.scrollParents={reference:r(t)?d(t):[],popper:d(n)};var a,u,f=function(t){var n=function(t){var n=new Map,e=new Set,r=[];return t.forEach((function(t){n.set(t.name,t)})),t.forEach((function(t){e.has(t.name)||function t(i){e.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach((function(r){if(!e.has(r)){var i=n.get(r);i&&t(i)}})),r.push(i)}(t)})),r}(t);return j.reduce((function(t,e){return t.concat(n.filter((function(t){return t.phase===e})))}),[])}((a=[].concat(e,s.options.modifiers),u=a.reduce((function(t,n){var e=t[n.name];return t[n.name]=e?Object.assign({},e,{},n,{options:Object.assign({},e.options,{},n.options),data:Object.assign({},e.data,{},n.data)}):n,t}),{}),Object.keys(u).map((function(t){return u[t]}))));return s.orderedModifiers=f.filter((function(t){return t.enabled})),s.orderedModifiers.forEach((function(t){var n=t.options,e=t.effect;if("function"==typeof e){var r=e({state:s,name:t.name,instance:v,options:void 0===n?{}:n});p.push(r||function(){})}})),v.update()},forceUpdate:function(){if(!h){var t=s.elements,n=t.reference,e=t.popper;if(q(n,e)){s.rects={reference:f(n,l(e),"fixed"===s.options.strategy),popper:c(e)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(t){return s.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],o=i.fn,a=i.options;"function"==typeof o&&(s=o({state:s,options:void 0===a?{}:a,name:i.name,instance:v})||s)}else s.reset=!1,r=-1}}},update:(a=function(){return new Promise((function(t){v.forceUpdate(),t(s)}))},function(){return u||(u=new Promise((function(t){Promise.resolve().then((function(){u=void 0,t(a())}))}))),u}),destroy:function(){b(),h=!0}};if(!q(t,n))return v;function b(){p.forEach((function(t){return t()})),p=[]}return v.setOptions(i).then((function(t){!h&&i.onFirstUpdate&&i.onFirstUpdate(t)})),v}}var B={passive:!0};function A(t){return t.split("-")[1]}function P(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function T(t){var n,e=t.reference,r=t.element,i=t.placement,o=i?M(i):null,a=i?A(i):null,u=e.x+e.width/2-r.width/2,f=e.y+e.height/2-r.height/2;switch(o){case b:n={x:u,y:e.y-r.height};break;case m:n={x:u,y:e.y+e.height};break;case y:n={x:e.x+e.width,y:f};break;case O:n={x:e.x-r.width,y:f};break;default:n={x:e.x,y:e.y}}var c=o?P(o):null;if(null!=c){var s="y"===c?"height":"width";switch(a){case"start":n[c]=Math.floor(n[c])-Math.floor(e[s]/2-r[s]/2);break;case"end":n[c]=Math.floor(n[c])+Math.ceil(e[s]/2-r[s]/2)}}return n}var L={top:"auto",right:"auto",bottom:"auto",left:"auto"};function S(t){var e,r=t.popper,i=t.popperRect,o=t.placement,u=t.offsets,f=t.position,c=t.gpuAcceleration,s=t.adaptive,p=function(t){var n=t.y,e=window.devicePixelRatio||1;return{x:Math.round(t.x*e)/e||0,y:Math.round(n*e)/e||0}}(u),d=p.x,h=p.y,v=u.hasOwnProperty("x"),w=u.hasOwnProperty("y"),g=O,x=b,j=window;if(s){var M=l(r);M===n(r)&&(M=a(r)),o===b&&(x=m,h-=M.clientHeight-i.height,h*=c?1:-1),o===O&&(g=y,d-=M.clientWidth-i.width,d*=c?1:-1)}var k,q=Object.assign({position:f},s&&L);return Object.assign({},q,c?((k={})[x]=w?"0":"",k[g]=v?"0":"",k.transform=(j.devicePixelRatio||1)<2?"translate("+d+"px, "+h+"px)":"translate3d("+d+"px, "+h+"px, 0)",k):((e={})[x]=w?h+"px":"",e[g]=v?d+"px":"",e.transform="",e))}var F={left:"right",right:"left",bottom:"top",top:"bottom"};function I(t){return t.replace(/left|right|bottom|top/g,(function(t){return F[t]}))}var R={start:"end",end:"start"};function W(t){return t.replace(/start|end/g,(function(t){return R[t]}))}function C(t){return parseFloat(t)||0}function H(t,n){var e=Boolean(n.getRootNode&&n.getRootNode().host);if(t.contains(n))return!0;if(e){var r=n;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function z(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function D(r,o){return"viewport"===o?z(function(t){var e=n(t);return{width:e.innerWidth,height:e.innerHeight,x:0,y:0}}(r)):i(o)?t(o):z(function(t){var r=n(t),i=e(t),o=f(a(t),r);return o.height=Math.max(o.height,r.innerHeight),o.width=Math.max(o.width,r.innerWidth),o.x=-i.scrollLeft,o.y=-i.scrollTop,o}(a(r)))}function U(t,e,f){var c="clippingParents"===e?function(t){var n=d(t),e=["absolute","fixed"].indexOf(p(t).position)>=0&&i(t)?l(t):t;return r(e)?n.filter((function(t){return r(t)&&H(t,e)})):[]}(t):[].concat(e),s=[].concat(c,[f]),h=s.reduce((function(e,r){var f=D(t,r),c=function(t){var e=n(t),r=function(t){var n=i(t)?p(t):{};return{top:C(n.borderTopWidth),right:C(n.borderRightWidth),bottom:C(n.borderBottomWidth),left:C(n.borderLeftWidth)}}(t),a="html"===o(t),f=u(t),c=t.clientWidth+r.right,s=t.clientHeight+r.bottom;return a&&e.innerHeight-t.clientHeight>50&&(s=e.innerHeight-r.bottom),{top:a?0:t.clientTop,right:t.clientLeft>r.left?r.right:a?e.innerWidth-c-f:t.offsetWidth-c,bottom:a?e.innerHeight-s:t.offsetHeight-s,left:a?f:t.clientLeft}}(i(r)?r:a(t));return e.top=Math.max(f.top+c.top,e.top),e.right=Math.min(f.right-c.right,e.right),e.bottom=Math.min(f.bottom-c.bottom,e.bottom),e.left=Math.max(f.left+c.left,e.left),e}),D(t,s[0]));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}function V(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},{},t)}function _(t,n){return n.reduce((function(n,e){return n[e]=t,n}),{})}function G(n,e){void 0===e&&(e={});var i=e.placement,o=void 0===i?n.placement:i,u=e.boundary,f=void 0===u?"clippingParents":u,c=e.rootBoundary,s=void 0===c?"viewport":c,p=e.elementContext,d=void 0===p?"popper":p,h=e.altBoundary,v=void 0!==h&&h,l=e.padding,O=void 0===l?0:l,g=V("number"!=typeof O?O:_(O,w)),x=n.elements.reference,j=n.rects.popper,M=n.elements[v?"popper"===d?"reference":"popper":d],k=U(r(M)?M:a(n.elements.popper),f,s),q=t(x),E=T({reference:q,element:j,strategy:"absolute",placement:o}),B=z(Object.assign({},j,{},E)),A="popper"===d?B:q,P={top:k.top-A.top+g.top,bottom:A.bottom-k.bottom+g.bottom,left:k.left-A.left+g.left,right:A.right-k.right+g.right},L=n.modifiersData.offset;if("popper"===d&&L){var S=L[o];Object.keys(P).forEach((function(t){var n=[y,m].indexOf(t)>=0?1:-1,e=[b,m].indexOf(t)>=0?"y":"x";P[t]+=S[e]*n}))}return P}function J(t,n,e){return Math.max(t,Math.min(n,e))}function K(t,n,e){return void 0===e&&(e={x:0,y:0}),{top:t.top-n.height-e.y,right:t.right-n.width+e.x,bottom:t.bottom-n.height+e.y,left:t.left-n.width-e.x}}function N(t){return[b,y,m,O].some((function(n){return t[n]>=0}))}var Q=E({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,r=t.instance,i=t.options,o=i.scroll,a=void 0===o||o,u=i.resize,f=void 0===u||u,c=n(e.elements.popper),s=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&s.forEach((function(t){t.addEventListener("scroll",r.update,B)})),f&&c.addEventListener("resize",r.update,B),function(){a&&s.forEach((function(t){t.removeEventListener("scroll",r.update,B)})),f&&c.removeEventListener("resize",r.update,B)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var n=t.state;n.modifiersData[t.name]=T({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var n=t.state,e=t.options,r=e.gpuAcceleration,i=void 0===r||r,o=e.adaptive,a=void 0===o||o,u={placement:M(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:i};n.styles.popper=Object.assign({},n.styles.popper,{},S(Object.assign({},u,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:a}))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,{},S(Object.assign({},u,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var n=t.state;Object.keys(n.elements).forEach((function(t){var e=n.styles[t]||{},r=n.attributes[t]||{},a=n.elements[t];i(a)&&o(a)&&(Object.assign(a.style,e),Object.keys(r).forEach((function(t){var n=r[t];!1===n?a.removeAttribute(t):a.setAttribute(t,!0===n?"":n)})))}))},effect:function(t){var n=t.state,e={popper:{position:"absolute",left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,e.popper),n.elements.arrow&&Object.assign(n.elements.arrow.style,e.arrow),function(){Object.keys(n.elements).forEach((function(t){var r=n.elements[t],a=n.attributes[t]||{},u=Object.keys(n.styles.hasOwnProperty(t)?n.styles[t]:e[t]).reduce((function(t,n){return t[n]="",t}),{});i(r)&&o(r)&&(Object.assign(r.style,u),Object.keys(a).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var n=t.state,e=t.name,r=t.options.offset,i=void 0===r?[0,0]:r,o=x.reduce((function(t,e){return t[e]=function(t,n,e){var r=M(t),i=[O,b].indexOf(r)>=0?-1:1,o="function"==typeof e?e(Object.assign({},n,{placement:t})):e,a=o[0],u=o[1];return a=a||0,u=(u||0)*i,[O,y].indexOf(r)>=0?{x:u,y:a}:{x:a,y:u}}(e,n.rects,i),t}),{}),a=o[n.placement],u=a.y;n.modifiersData.popperOffsets.x+=a.x,n.modifiersData.popperOffsets.y+=u,n.modifiersData[e]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var n=t.state,e=t.options,r=t.name;if(!n.modifiersData[r]._skip){for(var i=e.fallbackPlacements,o=e.padding,a=e.boundary,u=e.rootBoundary,f=e.altBoundary,c=e.flipVariations,s=void 0===c||c,p=n.options.placement,d=M(p),h=i||(d!==p&&s?function(t){if("auto"===M(t))return[];var n=I(t);return[W(t),n,W(n)]}(p):[I(p)]),v=[p].concat(h).reduce((function(t,e){return t.concat("auto"===M(e)?function(t,n){void 0===n&&(n={});var e=n.boundary,r=n.rootBoundary,i=n.padding,o=n.flipVariations,a=A(n.placement),u=(a?o?g:g.filter((function(t){return A(t)===a})):w).reduce((function(n,o){return n[o]=G(t,{placement:o,boundary:e,rootBoundary:r,padding:i})[M(o)],n}),{});return Object.keys(u).sort((function(t,n){return u[t]-u[n]}))}(n,{placement:e,boundary:a,rootBoundary:u,padding:o,flipVariations:s}):e)}),[]),l=n.rects.reference,x=n.rects.popper,j=new Map,k=!0,q=v[0],E=0;E<v.length;E++){var B=v[E],P=M(B),T="start"===A(B),L=[b,m].indexOf(P)>=0,S=L?"width":"height",F=G(n,{placement:B,boundary:a,rootBoundary:u,altBoundary:f,padding:o}),R=L?T?y:O:T?m:b;l[S]>x[S]&&(R=I(R));var C=I(R),H=[F[P]<=0,F[R]<=0,F[C]<=0];if(H.every((function(t){return t}))){q=B,k=!1;break}j.set(B,H)}if(k)for(var z=function(t){var n=v.find((function(n){var e=j.get(n);if(e)return e.slice(0,t).every((function(t){return t}))}));if(n)return q=n,"break"},D=s?3:1;D>0&&"break"!==z(D);D--);n.placement!==q&&(n.modifiersData[r]._skip=!0,n.placement=q,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var n=t.state,e=t.options,r=t.name,i=e.mainAxis,o=void 0===i||i,a=e.altAxis,u=void 0!==a&&a,f=e.tether,s=void 0===f||f,p=e.tetherOffset,d=void 0===p?0:p,h=G(n,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),v=M(n.placement),w=A(n.placement),g=!w,x=P(v),j="x"===x?"y":"x",k=n.modifiersData.popperOffsets,q=n.rects.reference,E=n.rects.popper,B="function"==typeof d?d(Object.assign({},n.rects,{placement:n.placement})):d,T={x:0,y:0};if(o){var L="y"===x?b:O,S="y"===x?m:y,F="y"===x?"height":"width",I=k[x],R=k[x]+h[L],W=k[x]-h[S],C=s?-E[F]/2:0,H="start"===w?q[F]:E[F],z="start"===w?-E[F]:-q[F],D=n.elements.arrow,U=s&&D?c(D):{width:0,height:0},V=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},_=V[L],K=V[S],N=J(0,q[F],U[F]),Q=g?q[F]/2-C-N-_-B:H-N-_-B,X=g?-q[F]/2+C+N+K+B:z+N+K+B,Y=n.elements.arrow&&l(n.elements.arrow),Z=n.modifiersData.offset?n.modifiersData.offset[n.placement][x]:0,$=k[x]+X-Z,tt=J(s?Math.min(R,k[x]+Q-Z-(Y?"y"===x?Y.clientTop||0:Y.clientLeft||0:0)):R,I,s?Math.max(W,$):W);k[x]=tt,T[x]=tt-I}if(u){var nt=k[j],et=J(nt+h["x"===x?b:O],nt,nt-h["x"===x?m:y]);n.modifiersData.popperOffsets[j]=et,T[j]=et-nt}n.modifiersData[r]=T},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var n,e=t.state,r=t.name,i=e.elements.arrow,o=e.modifiersData.popperOffsets,a=M(e.placement),u=P(a),f=[O,y].indexOf(a)>=0?"height":"width";if(i){var s=e.modifiersData[r+"#persistent"].padding,p=c(i),d="y"===u?b:O,h="y"===u?m:y,v=e.rects.reference[f]+e.rects.reference[u]-o[u]-e.rects.popper[f],w=o[u]-e.rects.reference[u],g=e.elements.arrow&&l(e.elements.arrow),x=J(s[d],e.rects.popper[f]/2-p[f]/2+(v/2-w/2-(g?"y"===u?g.clientLeft||0:g.clientTop||0:0)),e.rects.popper[f]-p[f]-s[h]);e.modifiersData[r]=((n={})[u]=x,n)}},effect:function(t){var n=t.state,e=t.options,r=t.name,i=e.element,o=void 0===i?"[data-popper-arrow]":i,a=e.padding,u=void 0===a?0:a;("string"!=typeof o||(o=n.elements.popper.querySelector(o)))&&H(n.elements.popper,o)&&(n.elements.arrow=o,n.modifiersData[r+"#persistent"]={padding:V("number"!=typeof u?u:_(u,w))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var n=t.state,e=t.name,r=n.rects.reference,i=n.rects.popper,o=n.modifiersData.preventOverflow,a=G(n,{elementContext:"reference"}),u=G(n,{altBoundary:!0}),f=K(a,r),c=K(u,i,o),s=N(f),p=N(c);n.modifiersData[e]={referenceClippingOffsets:f,popperEscapeOffsets:c,isReferenceHidden:s,hasPopperEscaped:p},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":s,"data-popper-escaped":p})}}]});class X{constructor(t,n,e){this.handleTransitionEnd=this.handleTransitionEnd.bind(this),this.anchor=t,this.popover=n,this.options=Object.assign({skidding:0,distance:0,placement:"bottom-start",visibleClass:"popover-visible",onAfterShow:()=>{},onAfterHide:()=>{},onTransitionEnd:()=>{}},e),this.isVisible=!1,this.popover.classList.remove(this.options.visibleClass),this.popover.addEventListener("transitionend",this.handleTransitionEnd)}handleTransitionEnd(t){t.target===this.popover&&(this.options.onTransitionEnd.call(this,t),this.isVisible||this.popover.hidden||(this.popover.hidden=!0,this.popover.classList.remove(this.options.visibleClass),this.options.onAfterHide.call(this)))}destroy(){this.popover.removeEventListener("transitionend",this.handleTransitionEnd),this.popper&&(this.popper.destroy(),this.popper=null)}show(){this.isVisible=!0,this.popover.hidden=!1,requestAnimationFrame(()=>this.popover.classList.add(this.options.visibleClass)),this.popper&&this.popper.destroy(),this.popper=Q(this.anchor,this.popover,{placement:this.options.placement,modifiers:[{name:"flip",options:{boundary:"viewport"}},{name:"offset",options:{offset:[this.options.skidding,this.options.distance]}}]}),requestAnimationFrame(()=>{this.popper.update(),this.options.onAfterShow.call(this)})}hide(){this.isVisible=!1,this.popover.classList.remove(this.options.visibleClass)}setOptions(t){this.options=Object.assign(this.options,t),this.isVisible?this.popover.classList.add(this.options.visibleClass):this.popover.classList.remove(this.options.visibleClass),this.popper&&(this.popper.setOptions({placement:this.options.placement}),requestAnimationFrame(()=>this.popper.update()))}}export{X as P}